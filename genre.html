<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<title>Movie</title>
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="css/theme.css">
</head>

<body>

	<div class="container-fluid">
		<div class="row">

			<div class="col-xs-12">

				<div class="row">

					<img src="img/logo.png" class="img-responsive" style="max-width: 400px; margin: 10px auto;" />

					<div id="content"></div>

				</div>

			</main>
		</div>
	</div>



	<footer>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script type="text/javascript" src="m-xml.js"></script>
		<script>
			$('document').ready(function() {

				var genre = getQueryVariable('genre');
				var genre = genre.replace(/%20/g, " ");
				window.console.log(genre);

				// var artistValue = $( '#artistChoice' ).val();
				// window.console.log(artistValue);
				updateList(genre);

			});

			function getQueryVariable(variable) {
				var query = window.location.search.substring(1);
				var vars = query.split("&");
				for (var i=0;i<vars.length;i++) {
					var pair = vars[i].split("=");
					if(pair[0] == variable){return pair[1];}
				}
				return(false);
			}

			function updateList(value) {
				$( '#content' ).html('<div id="content-inner"></div>');
				magicXML.transformAndReplace("#content-inner", "movies.xml", "search.xslt", [{ "name" : "genre", "value": value }]);
			};
		</script>
	</footer>

</body>
		
</html>