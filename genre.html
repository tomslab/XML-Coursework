<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<title>Movie</title>
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="css/theme.css">
</head>

<body>

	<div class="container-fluid">
		<div class="row">

			<nav class="col-md-2 sidebar">
				<h1>sixteen<br /><span style="color:#4876AB;">by</span>nine</h1>
				<ul class="nav main-nav nav-pills nav-stacked">
					<li role="presentation" class="active">
						<a href="/">
							<div class="row">
								<div class="col-md-2">
									<span class="glyphicon glyphicon-home" aria-hidden="true"></span>
								</div>
								<div class="col-md-10">
									Home
								</div>
							</div>
						</a>
					</li>
					<li role="presentation" class="dropdown" id="category">
						<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-expanded="false">
							<div class="row">
								<div class="col-md-2">
									<span class="glyphicon glyphicon-filter" aria-hidden="true"></span>
								</div>
								<div class="col-md-7">
									Category
								</div>
								<div class="col-md-3">
									<span class="caret"></span>
								</div>
							</div>
						</a>
					</li>
					<ul class="nav nav-pills nav-stacked" id="category-dropdown" style="display:none;">
						<li role="presentation"><a href="#">Action</a></li>
						<li role="presentation"><a href="#">Adventure</a></li>
						<li role="presentation"><a href="#">Comedy</a></li>
					</ul>
				</ul>
			</nav>

			<main class="col-md-10 col-md-offset-2">

				<div class="row">

					<div id="content"></div>

				</div>

			</main>
		</div>
	</div>



	<footer>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script type="text/javascript" src="m-xml.js"></script>
		<script>
			$('document').ready(function() {

				var genre = getQueryVariable('genre');
				var genre = genre.replace(/%20/g, " ");
				window.console.log(genre);

				// var artistValue = $( '#artistChoice' ).val();
				// window.console.log(artistValue);
				updateList(genre);

			});

			function getQueryVariable(variable) {
				var query = window.location.search.substring(1);
				var vars = query.split("&");
				for (var i=0;i<vars.length;i++) {
					var pair = vars[i].split("=");
					if(pair[0] == variable){return pair[1];}
				}
				return(false);
			}

			function updateList(value) {
				$( '#content' ).html('<div id="content-inner"></div>');
				magicXML.transformAndReplace("#content-inner", "movies.xml", "search.xslt", [{ "name" : "genre", "value": value }]);
			};
		</script>
	</footer>

</body>

</html>