<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Records</title>
</head>

<body>
	<header>

		<h1>Hello, world!</h1>

		<a href="test.html">Test site</a>

		<p>
			<select id="artistChoice" onChange="updateList(this.value)">
				<option value="Madness">Madness</option>
				<option value="Blondie">Blondie</option>
				<option value="The Clash">The Clash</option>
				<option value="John Lennon">John Lennon</option>
			</select>
		</p>

	</header>

	<div id="content"></div>

	<footer>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script type="text/javascript" src="m-xml.js"></script>
		<script>
			$('document').ready(function() {
				var artistValue = $( '#artistChoice' ).val();
				window.console.log(artistValue);
				updateList(artistValue);
				console.log('run parse');
				// magicXML.parse();
			});

			function updateList(value) {
				window.console.log(value);
				$( '#content' ).html('<div id="content-inner"></div>');
				magicXML.transformAndReplace("#content-inner", "records.xml", "colorstyle.xslt", [{ "name" : "title", "value": value }]);
			};
		</script>
	</footer>

</body>

</html>